<!DOCTYPE html><html lang="en"> <head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2K6JP8M5XE"></script>  <meta charset="utf-8"> <meta name="viewport" content="width=device-width"> <link rel="sitemap" href="/sitemap.xml"> <link rel="icon" type="image/x-icon" href="/images/favicon.ico">  <meta name="description" content="How to implement pagination using Elixirs Nimblepublisher"> <meta property="og:type" content="website"> <meta property="og:url" content="https://tinytechtuts.com"> <meta property="og:title" content="How to paginate an in memory array"> <meta property="og:description" content="How to implement pagination using Elixirs Nimblepublisher"> <meta property="og:image" content="/images/social.jpg"> <meta property="twitter:card" content="summary_large_image"> <meta property="twitter:url" content="https://tinytechtuts.com"> <meta property="twitter:title" content="How to paginate an in memory array"> <meta property="twitter:description" content="How to implement pagination using Elixirs Nimblepublisher"> <meta property="twitter:image" content="/images/social.jpg"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-tomorrow.min.css"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/toolbar/prism-toolbar.min.css"> <link href="https://fonts.googleapis.com/css2?family=Londrina+Solid:wght@900&family=Poppins:ital,wght@0,400;0,600;1,400;1,700&display=swap" rel="stylesheet"> <title>How to paginate an in memory array</title><style>pre[data-astro-cid-xj2uyz6m]{padding:8px 16px;overflow:auto;border-radius:4px;background:#343434}code[data-astro-cid-xj2uyz6m]{padding:4px;border-radius:4px;background:#343434;font-family:Consolas,Monaco,Andale Mono,monospace;direction:ltr;font-size:14px}pre[data-astro-cid-xj2uyz6m]>code[data-astro-cid-xj2uyz6m]{padding:0;line-height:1.5;word-break:normal;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4}
</style>
<link rel="stylesheet" href="/_astro/2020-add-sitemap-to-phoenix-elixir-project.A85XpehK.css" /><script type="module" src="/_astro/hoisted.tlrkCr7x.js"></script></head> <body> <nav> <div class="max-w-5xl mx-auto px-3 py-3 flex items-center justify-between h-16"> <a href="/" class="font-bold text-xl hover:text-hot-pink">TinyTechTuts</a> <a href="/search" class=""> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </a> </div> <div class="w-full border-b-2 border-black squiggle"></div> </nav> <main class="py-12 lg:py-20"> <article class="max-w-5xl mx-auto px-3" data-astro-cid-xj2uyz6m> <header style="margin: 0 !important" class="mx-auto max-w-3xl text-center content" data-astro-cid-xj2uyz6m> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2976969447542443" crossorigin="anonymous"></script> <meta name="google-adsense-account" content="ca-pub-2976969447542443"> <h1 data-astro-cid-xj2uyz6m>How to paginate an in memory array</h1> </header> <!-- Image -->  <!-- YouTube Video -->  <!-- Content --> <section style="margin: 0 !important" class="max-w-3xl mx-auto py-6 lg:py-12 content" data-astro-cid-xj2uyz6m>  <p>This is an example of how you can implement in memory pagination using Elixir and NimblePublisher. If you are unfamiliar with NimblePublisher you can check out this <a href="https://dashbit.co/blog/welcome-to-our-blog-how-it-was-made">blog post</a> from Jose Valim and Dashbit.</p>
<p>First I want to address that there are many different methods for handling pagination in an application, but what I wanted to do was paginate an in memory array, or List, in Elixir. This is a list of blog posts gets compiled with my Elixir application on startup.</p>
<p>The end goal here was to be able to render 10 posts per page with the first ten showing on the homepage of this website and every subsequent ten posts being displayed at <a href="https://tinytechtuts.com/page/2/">https://tinytechtuts.com/page/2/</a>, <a href="https://tinytechtuts.com/page/3/">https://tinytechtuts.com/page/3/</a>, etc.</p>
<p>To handle this you first need to define two routes in your <code>router.ex</code> file. You only need to define two routes if you want the same setup I have (homepage and /page), you could also just have a single route for <code>/page/:count</code>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">get </span><span style="color:#9ECBFF">"/"</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">BlogController</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">:index</span></span>
<span class="line"><span style="color:#E1E4E8">get </span><span style="color:#9ECBFF">"/page/:count"</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">BlogController</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">:paginate</span></span></code></pre>
<p>Below is the code for accessing the list of blog posts. This code injects the NimblePublisher macro into the module which creates the <code>@posts</code> variable and then the posts are sorted by date and filtered for published posts, from there it sets the data for <code>@tags</code> and defines two getter methods for that data.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">defmodule</span><span style="color:#B392F0"> DevDecks</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Blog</span><span style="color:#F97583"> do</span></span>
<span class="line"><span style="color:#F97583">  alias</span><span style="color:#B392F0"> DevDecks</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Blog</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Post</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  use</span><span style="color:#B392F0"> NimblePublisher</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    build:</span><span style="color:#B392F0"> Post</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    from:</span><span style="color:#B392F0"> Application</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">app_dir</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">:dev_decks</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"priv/posts/**/*.md"</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#79B8FF">    as:</span><span style="color:#79B8FF"> :posts</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    highlighters:</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">:makeup_elixir</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">:makeup_erlang</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  @posts </span><span style="color:#B392F0">Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">sort_by</span><span style="color:#E1E4E8">(@posts, &#x26; &#x26;1.date, {</span><span style="color:#79B8FF">:desc</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">Date</span><span style="color:#E1E4E8">})</span></span>
<span class="line"><span style="color:#E1E4E8">  @published_posts </span><span style="color:#B392F0">Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(@posts, </span><span style="color:#B392F0">fn</span><span style="color:#E1E4E8"> (p)</span><span style="color:#F97583">-></span><span style="color:#E1E4E8"> p.published </span><span style="color:#F97583">end</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">  @tags @published_posts </span><span style="color:#F97583">|></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">flat_map</span><span style="color:#E1E4E8">(&#x26; &#x26;1.tags) </span><span style="color:#F97583">|></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">uniq</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">|></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">sort</span><span style="color:#E1E4E8">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> all_posts</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">do:</span><span style="color:#E1E4E8"> @published_posts</span></span>
<span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> all_tags</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">do:</span><span style="color:#E1E4E8"> @tags</span></span>
<span class="line"><span style="color:#F97583">end</span></span></code></pre>
<p>Then in the controller define the two functions referenced in our router code, one for handling <code>index</code> requests and one for handling <code>paginate</code> requests.</p>
<p>The <code>index</code> action will only need to worry about setting state for <code>has_next_page</code> to see if a next page is available, <code>next_page_link</code>, which holds the next link for pagination and <code>posts</code> for paginated blog posts. The <code>paginate</code> action will declare an extra state value for <code>previous_page_link</code> to handle previous page navigation. The code for the <code>Blog</code> methods will be covered later.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">defmodule</span><span style="color:#B392F0"> DevDecksWeb</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">BlogController</span><span style="color:#F97583"> do</span></span>
<span class="line"><span style="color:#F97583">  alias</span><span style="color:#B392F0"> DevDecksWeb</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Router</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Helpers</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">as:</span><span style="color:#B392F0"> Routes</span></span>
<span class="line"><span style="color:#F97583">  use</span><span style="color:#B392F0"> DevDecksWeb</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">:controller</span></span>
<span class="line"><span style="color:#F97583">  alias</span><span style="color:#B392F0"> DevDecks</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Blog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> index</span><span style="color:#E1E4E8">(conn, _p) </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#E1E4E8">    page </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#E1E4E8">    next_page_link </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "/page/</span><span style="color:#9ECBFF">#{page </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#9ECBFF">}</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    render</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      conn,</span></span>
<span class="line"><span style="color:#9ECBFF">      "index.html"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      posts:</span><span style="color:#B392F0"> Blog</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">paginated_posts</span><span style="color:#E1E4E8">(page),</span></span>
<span class="line"><span style="color:#79B8FF">      has_next_page:</span><span style="color:#B392F0"> Blog</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">has_next_page</span><span style="color:#E1E4E8">(page),</span></span>
<span class="line"><span style="color:#79B8FF">      next_page_link:</span><span style="color:#E1E4E8"> next_page_link</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#F97583">  end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> paginate</span><span style="color:#E1E4E8">(conn, %{</span><span style="color:#9ECBFF">"count"</span><span style="color:#F97583"> =></span><span style="color:#E1E4E8"> count}) </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#E1E4E8">    {count, </span><span style="color:#6A737D">_</span><span style="color:#E1E4E8">} </span><span style="color:#F97583">=</span><span style="color:#B392F0"> Integer</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">parse</span><span style="color:#E1E4E8">(count)</span></span>
<span class="line"><span style="color:#E1E4E8">    next_page </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> count </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#E1E4E8">    previous_page </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> count </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#E1E4E8">    next_page_link </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> next_page </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#9ECBFF"> "/"</span><span style="color:#F97583"> ||</span><span style="color:#9ECBFF"> "/page/</span><span style="color:#9ECBFF">#{next_page}</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#E1E4E8">    previous_page_link </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> previous_page </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> 1</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#9ECBFF"> "/"</span><span style="color:#F97583"> ||</span><span style="color:#9ECBFF"> "/page/</span><span style="color:#9ECBFF">#{previous_page}</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">    render</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      conn,</span></span>
<span class="line"><span style="color:#9ECBFF">      "paginate.html"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      posts:</span><span style="color:#B392F0"> Blog</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">paginated_posts</span><span style="color:#E1E4E8">(count),</span></span>
<span class="line"><span style="color:#79B8FF">      next_page:</span><span style="color:#E1E4E8"> count </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      next_page_link:</span><span style="color:#E1E4E8"> next_page_link,</span></span>
<span class="line"><span style="color:#79B8FF">      previous_page_link:</span><span style="color:#E1E4E8"> previous_page_link,</span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#F97583">  end</span></span>
<span class="line"><span style="color:#F97583">end</span></span></code></pre>
<p>In the previously referenced <code>Blog</code> application context is where the behavior for the pagination functionality will live. The <code>paginated_posts</code> function below creates a range of a count up to 9, which will give us 10 items if using a starting point of 0, eg. <code>0..9</code>. The function then filters the NimblePublisher <code>@published_posts</code> using the index of each post and the <code>start..stop</code> range, if a post exists at the index, it will be included in the paginated page.</p>
<p>The <code>has_next_page</code> function takes the current page value and checks to see if there are any more posts in the collection at then next index value.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> paginated_posts</span><span style="color:#E1E4E8">(page) </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#E1E4E8">    start </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (page </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 10</span></span>
<span class="line"><span style="color:#E1E4E8">    stop </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> start </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> 9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    @published_posts</span></span>
<span class="line"><span style="color:#F97583">    |></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">with_index</span></span>
<span class="line"><span style="color:#F97583">    |></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">filter</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">fn</span><span style="color:#E1E4E8">({</span><span style="color:#6A737D">_</span><span style="color:#E1E4E8">, index}) </span><span style="color:#F97583">-></span></span>
<span class="line"><span style="color:#B392F0">      Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">member?</span><span style="color:#E1E4E8">(start</span><span style="color:#F97583">..</span><span style="color:#E1E4E8">stop, index)</span></span>
<span class="line"><span style="color:#F97583">    end</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    |></span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">fn</span><span style="color:#E1E4E8">(tuple) </span><span style="color:#F97583">-></span></span>
<span class="line"><span style="color:#B392F0">      elem</span><span style="color:#E1E4E8">(tuple, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    end</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">  end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  def</span><span style="color:#B392F0"> has_next_page</span><span style="color:#E1E4E8">(page) </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#E1E4E8">    first_index </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (page </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    cond</span><span style="color:#F97583"> do</span></span>
<span class="line"><span style="color:#B392F0">      Enum</span><span style="color:#E1E4E8">.at(@published_posts, first_index) </span><span style="color:#F97583">-></span><span style="color:#79B8FF"> true</span></span>
<span class="line"><span style="color:#79B8FF">      true</span><span style="color:#F97583"> -></span><span style="color:#79B8FF"> false</span></span>
<span class="line"><span style="color:#F97583">    end</span></span>
<span class="line"><span style="color:#F97583">  end</span></span></code></pre>
<p>Then in the html template make use of the state delcared in the controllers by rendering the posts using an elixir comprehension and render a link for the next page if relevant.</p>
<p>Index page:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#F97583"> for</span><span style="color:#E1E4E8"> post </span><span style="color:#F97583">&#x3C;-</span><span style="color:#E1E4E8"> @posts </span><span style="color:#F97583">do</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">    &#x3C;</span><span style="color:#E1E4E8">div id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"&#x3C;%= post.id %>"</span><span style="color:#E1E4E8"> style</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"margin-bottom: 1.5rem;"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;</span><span style="color:#E1E4E8">div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"flex-row-d-column-m"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">h2</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">          &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> link post.title, </span><span style="color:#79B8FF">to:</span><span style="color:#B392F0"> Routes</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">blog_path</span><span style="color:#E1E4E8">(@conn, </span><span style="color:#79B8FF">:show</span><span style="color:#E1E4E8">, post), </span><span style="color:#79B8FF">class:</span><span style="color:#9ECBFF"> "blog-title"</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;/</span><span style="color:#E1E4E8">h2</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">time</span><span style="color:#F97583">>&#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> post.date %</span><span style="color:#F97583">>&#x3C;/</span><span style="color:#E1E4E8">time</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      &#x3C;</span><span style="color:#E1E4E8">div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"flex-row-no-space"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">img class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"icon-sm"</span><span style="color:#E1E4E8"> src</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"&#x3C;%= Routes.static_path(DevDecksWeb.Endpoint, "</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">images</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">tag.svg</span><span style="color:#9ECBFF">") %>"</span><span style="color:#F97583"> /></span><span style="color:#E1E4E8">&#x26;nbsp</span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(post.tags, </span><span style="color:#F97583">fn</span><span style="color:#E1E4E8"> t </span><span style="color:#F97583">-></span><span style="color:#B392F0"> link</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"</span><span style="color:#9ECBFF">#{t}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">to:</span><span style="color:#9ECBFF"> "/tags/</span><span style="color:#9ECBFF">#{t}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">class:</span><span style="color:#9ECBFF"> "blog-tag"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">end</span><span style="color:#E1E4E8">) %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">    &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">% </span><span style="color:#F97583">end</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#B392F0"> link</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"More Blog"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">to:</span><span style="color:#E1E4E8"> @next_page_link) %</span><span style="color:#F97583">></span></span></code></pre>
<p>Paginate page:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#F97583"> for</span><span style="color:#E1E4E8"> post </span><span style="color:#F97583">&#x3C;-</span><span style="color:#E1E4E8"> @posts </span><span style="color:#F97583">do</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">    &#x3C;</span><span style="color:#E1E4E8">div id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"&#x3C;%= post.id %>"</span><span style="color:#E1E4E8"> style</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"margin-bottom: 1.5rem;"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;</span><span style="color:#E1E4E8">div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"flex-row-d-column-m"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">h2</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">          &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> link post.title, </span><span style="color:#79B8FF">to:</span><span style="color:#B392F0"> Routes</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">blog_path</span><span style="color:#E1E4E8">(@conn, </span><span style="color:#79B8FF">:show</span><span style="color:#E1E4E8">, post), </span><span style="color:#79B8FF">class:</span><span style="color:#9ECBFF"> "blog-title"</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;/</span><span style="color:#E1E4E8">h2</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">time</span><span style="color:#F97583">>&#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> post.date %</span><span style="color:#F97583">>&#x3C;/</span><span style="color:#E1E4E8">time</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">      &#x3C;</span><span style="color:#E1E4E8">div class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"flex-row-no-space"</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">        &#x3C;</span><span style="color:#E1E4E8">img class</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"icon-sm"</span><span style="color:#E1E4E8"> src</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"&#x3C;%= Routes.static_path(DevDecksWeb.Endpoint, "</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">images</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">tag.svg</span><span style="color:#9ECBFF">") %>"</span><span style="color:#F97583"> /></span><span style="color:#E1E4E8">&#x26;nbsp</span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#B392F0"> Enum</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(post.tags, </span><span style="color:#F97583">fn</span><span style="color:#E1E4E8"> t </span><span style="color:#F97583">-></span><span style="color:#B392F0"> link</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"</span><span style="color:#9ECBFF">#{t}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">to:</span><span style="color:#9ECBFF"> "/tags/</span><span style="color:#9ECBFF">#{t}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">class:</span><span style="color:#9ECBFF"> "blog-tag"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">end</span><span style="color:#E1E4E8">) %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">      &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">    &#x3C;/</span><span style="color:#E1E4E8">div</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">% </span><span style="color:#F97583">end</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#B392F0"> link</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Less Blog"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">to:</span><span style="color:#E1E4E8"> @previous_page_link) %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x26;nbsp</span></span>
<span class="line"><span style="color:#E1E4E8">  &#x26;nbsp</span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#F97583"> if</span><span style="color:#B392F0"> length</span><span style="color:#E1E4E8">(@posts) </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> do</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">% </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">    &#x3C;</span><span style="color:#E1E4E8">%</span><span style="color:#F97583">=</span><span style="color:#B392F0"> link</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"More Blog"</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">to:</span><span style="color:#E1E4E8"> @next_page_link) %</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#F97583">  &#x3C;</span><span style="color:#E1E4E8">% </span><span style="color:#F97583">end</span><span style="color:#E1E4E8"> %</span><span style="color:#F97583">></span></span></code></pre>  </section> <div data-astro-cid-xj2uyz6m> <!-- sidebar vertical --> <script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2976969447542443" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="position: absolute; right: 50px; top: 200px; width: 300px; height: 1000px;" data-ad-client="ca-pub-2976969447542443" data-ad-slot="1095168865" data-ad-format="auto" data-full-width-responsive="true" data-astro-cid-xj2uyz6m></ins>  </div> </article>  </main> </body></html>